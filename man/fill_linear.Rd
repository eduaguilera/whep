% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/gapfilling.R
\name{fill_linear}
\alias{fill_linear}
\title{Fill gaps by linear interpolation, or carrying forward or backward.}
\usage{
fill_linear(
  data,
  value_col,
  time_col = year,
  interpolate = TRUE,
  fill_forward = TRUE,
  fill_backward = TRUE,
  value_smooth_window = NULL,
  .by = NULL
)
}
\arguments{
\item{data}{A data frame containing one observation per row.}

\item{value_col}{The column containing gaps to be filled.}

\item{time_col}{The column containing time values. Default: \code{year}.}

\item{interpolate}{Logical. If \code{TRUE} (default),
performs linear interpolation.}

\item{fill_forward}{Logical. If \code{TRUE} (default),
carries last value forward.}

\item{fill_backward}{Logical. If \code{TRUE} (default),
carries first value backward.}

\item{value_smooth_window}{An integer specifying the window size for a
centered moving average applied to the variable before gap-filling. Useful
for variables with high inter-annual variability. If \code{NULL} (default), no
smoothing is applied.}

\item{.by}{A character vector with the grouping variables (optional).}
}
\value{
A tibble data frame (ungrouped) where gaps in value_col have been
filled, and a new "source" variable has been created indicating if the
value is original or, in case it has been estimated, the gapfilling method
that has been used.
}
\description{
Fills gaps (\code{NA} values) in a time-dependent variable by
linear interpolation between two points, or carrying forward or backwards
the last or initial values, respectively. It also creates a new variable
indicating the source of the filled values.
}
\examples{
sample_tibble <- tibble::tibble(
  category = c("a", "a", "a", "a", "a", "a", "b", "b", "b", "b", "b", "b"),
  year = c(
    "2015", "2016", "2017", "2018", "2019", "2020",
    "2015", "2016", "2017", "2018", "2019", "2020"
  ),
  value = c(NA, 3, NA, NA, 0, NA, 1, NA, NA, NA, 5, NA),
)
fill_linear(sample_tibble, value, .by = c("category"))
fill_linear(
  sample_tibble,
  value,
  interpolate = FALSE,
  .by = c("category"),
)
}
